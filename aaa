# Assuming you have already set up your test class and mocks
# Here's how you can correctly mock the query(Execution).filter_by(name=name) call:

# Set up the mock for query and filter_by
mock_query = self.mock_session.query.return_value
mock_filter_by = mock_query.filter_by(name=name)

# Create a mock Execution object that matches the filter condition
mock_execution = Execution(id=1, name="Test Execution")

# Set up the behavior of first() to return mock_execution
mock_filter_by.first.return_value = mock_execution

# Call your method under test that uses query(Execution).filter_by(name=name)
execution = self.dao.get_execution_by_name(name)

# Assertions to verify the behavior
self.mock_session.query.assert_called_once_with(Execution)
mock_query.filter_by.assert_called_once_with(name=name)
mock_filter_by.first.assert_called_once()

# Validate the returned execution object
self.assertEqual(execution, mock_execution)
